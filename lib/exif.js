const _0x4c211a=_0x3692;(function(_0x277e2f,_0xc02558){const _0x472143=_0x3692,_0xe075bc=_0x277e2f();while(!![]){try{const _0x4d0eba=-parseInt(_0x472143(0x10a))/0x1*(-parseInt(_0x472143(0x109))/0x2)+parseInt(_0x472143(0xe7))/0x3*(parseInt(_0x472143(0xdf))/0x4)+-parseInt(_0x472143(0xea))/0x5+-parseInt(_0x472143(0xec))/0x6*(-parseInt(_0x472143(0x10b))/0x7)+-parseInt(_0x472143(0x101))/0x8*(parseInt(_0x472143(0xee))/0x9)+parseInt(_0x472143(0xff))/0xa*(-parseInt(_0x472143(0xe5))/0xb)+-parseInt(_0x472143(0x102))/0xc;if(_0x4d0eba===_0xc02558)break;else _0xe075bc['push'](_0xe075bc['shift']());}catch(_0x5bbe0e){_0xe075bc['push'](_0xe075bc['shift']());}}}(_0x2975,0xe9c46));function _0x3692(_0x4c46d3,_0x110b4c){const _0x2975b2=_0x2975();return _0x3692=function(_0x3692e8,_0x55df7e){_0x3692e8=_0x3692e8-0xde;let _0x2ec504=_0x2975b2[_0x3692e8];return _0x2ec504;},_0x3692(_0x4c46d3,_0x110b4c);}const fs=require('fs'),{tmpdir}=require('os'),Crypto=require('crypto'),ff=require(_0x4c211a(0x111)),ffmpegPath=require(_0x4c211a(0xf3))[_0x4c211a(0x116)],webp=require('node-webpmux'),path=require(_0x4c211a(0x116));ff[_0x4c211a(0x114)](ffmpegPath);async function imageToWebp(_0x5ede4d){const _0x3782c8=_0x4c211a,_0x1224e1=path[_0x3782c8(0xe8)](tmpdir(),Crypto[_0x3782c8(0x103)](0x6)['readUIntLE'](0x0,0x6)[_0x3782c8(0x108)](0x24)+_0x3782c8(0xef)),_0xfde7a=path[_0x3782c8(0xe8)](tmpdir(),Crypto[_0x3782c8(0x103)](0x6)[_0x3782c8(0xe3)](0x0,0x6)[_0x3782c8(0x108)](0x24)+_0x3782c8(0x106));fs[_0x3782c8(0x107)](_0xfde7a,_0x5ede4d),await new Promise((_0xd6934,_0x144e73)=>{const _0x12709e=_0x3782c8;ff(_0xfde7a)['on'](_0x12709e(0x115),_0x144e73)['on'](_0x12709e(0xe0),()=>_0xd6934(!![]))['addOutputOptions']([_0x12709e(0xe6),_0x12709e(0xe9),_0x12709e(0xf6),'scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse'])[_0x12709e(0xfe)](_0x12709e(0xf2))['save'](_0x1224e1);});const _0x3ef3f1=fs[_0x3782c8(0xe1)](_0x1224e1);return fs[_0x3782c8(0xe4)](_0x1224e1),fs[_0x3782c8(0xe4)](_0xfde7a),_0x3ef3f1;}async function videoToWebp(_0x4ad724){const _0x15e560=_0x4c211a,_0x5b2e37=path[_0x15e560(0xe8)](tmpdir(),Crypto['randomBytes'](0x6)['readUIntLE'](0x0,0x6)[_0x15e560(0x108)](0x24)+_0x15e560(0xef)),_0x581d2b=path['join'](tmpdir(),Crypto[_0x15e560(0x103)](0x6)[_0x15e560(0xe3)](0x0,0x6)['toString'](0x24)+'.mp4');fs[_0x15e560(0x107)](_0x581d2b,_0x4ad724),await new Promise((_0x4e5fd5,_0x1a5e0b)=>{const _0x1ac936=_0x15e560;ff(_0x581d2b)['on'](_0x1ac936(0x115),_0x1a5e0b)['on'](_0x1ac936(0xe0),()=>_0x4e5fd5(!![]))['addOutputOptions']([_0x1ac936(0xe6),_0x1ac936(0xe9),_0x1ac936(0xf6),'scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse',_0x1ac936(0x10c),'0',_0x1ac936(0xf4),_0x1ac936(0xf5),'-t',_0x1ac936(0xfc),_0x1ac936(0xf8),'default',_0x1ac936(0xfd),'-vsync','0'])[_0x1ac936(0xfe)](_0x1ac936(0xf2))[_0x1ac936(0x113)](_0x5b2e37);});const _0x2c3e36=fs[_0x15e560(0xe1)](_0x5b2e37);return fs[_0x15e560(0xe4)](_0x5b2e37),fs[_0x15e560(0xe4)](_0x581d2b),_0x2c3e36;}async function writeExifImg(_0x28516e,_0x31c6a3){const _0x15e587=_0x4c211a;let _0x157362=await imageToWebp(_0x28516e);const _0x2d6acf=path[_0x15e587(0xe8)](tmpdir(),Crypto[_0x15e587(0x103)](0x6)[_0x15e587(0xe3)](0x0,0x6)[_0x15e587(0x108)](0x24)+'.webp'),_0x3a45ef=path['join'](tmpdir(),Crypto['randomBytes'](0x6)[_0x15e587(0xe3)](0x0,0x6)[_0x15e587(0x108)](0x24)+_0x15e587(0xef));fs[_0x15e587(0x107)](_0x2d6acf,_0x157362);if(_0x31c6a3[_0x15e587(0x10f)]||_0x31c6a3[_0x15e587(0xf9)]){const _0x589142=new webp[(_0x15e587(0x10d))](),_0xd1b1ac={'sticker-pack-id':_0x15e587(0xf1),'sticker-pack-name':_0x31c6a3[_0x15e587(0x10f)],'sticker-pack-publisher':_0x31c6a3['author'],'emojis':_0x31c6a3[_0x15e587(0xfb)]?_0x31c6a3[_0x15e587(0xfb)]:['']},_0x34db2e=Buffer[_0x15e587(0x104)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x1a128c=Buffer['from'](JSON['stringify'](_0xd1b1ac),_0x15e587(0x112)),_0x579de0=Buffer[_0x15e587(0x110)]([_0x34db2e,_0x1a128c]);return _0x579de0[_0x15e587(0xfa)](_0x1a128c[_0x15e587(0x105)],0xe,0x4),await _0x589142[_0x15e587(0xeb)](_0x2d6acf),fs['unlinkSync'](_0x2d6acf),_0x589142[_0x15e587(0xf0)]=_0x579de0,await _0x589142['save'](_0x3a45ef),_0x3a45ef;}}async function writeExifVid(_0x5d8c84,_0x511f65){const _0x2c31b6=_0x4c211a;let _0x155a46=await videoToWebp(_0x5d8c84);const _0x143e0a=path[_0x2c31b6(0xe8)](tmpdir(),Crypto[_0x2c31b6(0x103)](0x6)[_0x2c31b6(0xe3)](0x0,0x6)[_0x2c31b6(0x108)](0x24)+_0x2c31b6(0xef)),_0x14c5a2=path[_0x2c31b6(0xe8)](tmpdir(),Crypto[_0x2c31b6(0x103)](0x6)[_0x2c31b6(0xe3)](0x0,0x6)[_0x2c31b6(0x108)](0x24)+_0x2c31b6(0xef));fs[_0x2c31b6(0x107)](_0x143e0a,_0x155a46);if(_0x511f65[_0x2c31b6(0x10f)]||_0x511f65[_0x2c31b6(0xf9)]){const _0x4851b7=new webp[(_0x2c31b6(0x10d))](),_0x4009f1={'sticker-pack-id':'https://github.com/DGDEEPAK','sticker-pack-name':_0x511f65[_0x2c31b6(0x10f)],'sticker-pack-publisher':_0x511f65['author'],'emojis':_0x511f65[_0x2c31b6(0xfb)]?_0x511f65[_0x2c31b6(0xfb)]:['']},_0x26bc83=Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x4c4a99=Buffer[_0x2c31b6(0x104)](JSON[_0x2c31b6(0x10e)](_0x4009f1),_0x2c31b6(0x112)),_0x349f7b=Buffer[_0x2c31b6(0x110)]([_0x26bc83,_0x4c4a99]);return _0x349f7b[_0x2c31b6(0xfa)](_0x4c4a99['length'],0xe,0x4),await _0x4851b7[_0x2c31b6(0xeb)](_0x143e0a),fs[_0x2c31b6(0xe4)](_0x143e0a),_0x4851b7[_0x2c31b6(0xf0)]=_0x349f7b,await _0x4851b7[_0x2c31b6(0x113)](_0x14c5a2),_0x14c5a2;}}async function writeExif(_0xdc76b1,_0xb6d748){const _0x361e3e=_0x4c211a;let _0x17d480=/webp/[_0x361e3e(0xf7)](_0xdc76b1[_0x361e3e(0xe2)])?_0xdc76b1[_0x361e3e(0xde)]:/image/['test'](_0xdc76b1['mimetype'])?await imageToWebp(_0xdc76b1[_0x361e3e(0xde)]):/video/[_0x361e3e(0xf7)](_0xdc76b1[_0x361e3e(0xe2)])?await videoToWebp(_0xdc76b1[_0x361e3e(0xde)]):'';const _0x457b26=path[_0x361e3e(0xe8)](tmpdir(),Crypto[_0x361e3e(0x103)](0x6)[_0x361e3e(0xe3)](0x0,0x6)[_0x361e3e(0x108)](0x24)+_0x361e3e(0xef)),_0x2a37b1=path[_0x361e3e(0xe8)](tmpdir(),Crypto[_0x361e3e(0x103)](0x6)[_0x361e3e(0xe3)](0x0,0x6)[_0x361e3e(0x108)](0x24)+_0x361e3e(0xef));fs[_0x361e3e(0x107)](_0x457b26,_0x17d480);if(_0xb6d748[_0x361e3e(0x10f)]||_0xb6d748['author']){const _0x5723fd=new webp[(_0x361e3e(0x10d))](),_0x24e832={'sticker-pack-id':_0x361e3e(0xf1),'sticker-pack-name':_0xb6d748[_0x361e3e(0x10f)],'sticker-pack-publisher':_0xb6d748['author'],'emojis':_0xb6d748['categories']?_0xb6d748[_0x361e3e(0xfb)]:['']},_0x2a54e0=Buffer[_0x361e3e(0x104)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x2f5971=Buffer[_0x361e3e(0x104)](JSON['stringify'](_0x24e832),'utf-8'),_0x1d6999=Buffer[_0x361e3e(0x110)]([_0x2a54e0,_0x2f5971]);return _0x1d6999[_0x361e3e(0xfa)](_0x2f5971[_0x361e3e(0x105)],0xe,0x4),await _0x5723fd[_0x361e3e(0xeb)](_0x457b26),fs['unlinkSync'](_0x457b26),_0x5723fd[_0x361e3e(0xf0)]=_0x1d6999,await _0x5723fd[_0x361e3e(0x113)](_0x2a37b1),_0x2a37b1;}}const {Image}=require('node-webpmux'),{format}=require(_0x4c211a(0xed));async function addExif(_0x3edc1f,_0x1fb128,_0x2bba99,_0x56bfc7=[''],_0x199dd4={}){const _0x56820d=_0x4c211a,_0x96d8ba=new Image(),_0x59cd5f={'sticker-pack-id':_0x56820d(0x100),'sticker-pack-name':_0x1fb128,'sticker-pack-publisher':_0x2bba99,'emojis':_0x56bfc7,'is-avatar-sticker':0x1,..._0x199dd4};let _0x21b158=Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x291e73=Buffer['from'](JSON[_0x56820d(0x10e)](_0x59cd5f),'utf8'),_0x471d08=Buffer['concat']([_0x21b158,_0x291e73]);return _0x471d08[_0x56820d(0xfa)](_0x291e73[_0x56820d(0x105)],0xe,0x4),await _0x96d8ba['load'](_0x3edc1f),_0x96d8ba['exif']=_0x471d08,await _0x96d8ba[_0x56820d(0x113)](null);}module['exports']={'addExif':addExif,'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExif':writeExif};function _0x2975(){const _0x5c7e6a=['toString','185182dBLzJX','7BFIibb','7462jmaQhB','-loop','Image','stringify','packname','concat','fluent-ffmpeg','utf-8','save','setFfmpegPath','error','path','data','4ljQxWQ','end','readFileSync','mimetype','readUIntLE','unlinkSync','850553Julkkn','-vcodec','1934154doEFDe','join','libwebp','5415695WhZmFe','load','10158YrGSVG','util','2129643JpBGkk','.webp','exif','https://github.com/DGDEEPAK','webp','@ffmpeg-installer/ffmpeg','-ss','00:00:00','-vf','test','-preset','author','writeUIntLE','categories','00:00:05','-an','toFormat','30HJNrXG','DGDEEPAK','16mQBTXz','4220652YnvqNJ','randomBytes','from','length','.jpg','writeFileSync'];_0x2975=function(){return _0x5c7e6a;};return _0x2975();}